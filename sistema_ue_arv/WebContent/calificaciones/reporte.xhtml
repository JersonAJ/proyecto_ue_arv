<ui:composition template="/layout/layout.xhtml"
xmlns="http://www.w3.org/1999/xhtml"
xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
xmlns:h="http://xmlns.jcp.org/jsf/html"
xmlns:p="http://primefaces.org/ui"
xmlns:f="http://xmlns.jcp.org/jsf/core">
			
	<ui:define name="titulo"><i class="fa fa-book" /> Calificaciones / Reportes</ui:define>
	
	<ui:define name="content">
		<h:form id="form" style="width: 100%">
			<f:metadata>		    
			    <f:viewAction action="#{general.validaSesion}" />
			</f:metadata>
				
			<p:growl id="growl" for="growl" showDetail="true" closable="true" />
			
			<!-- FILTROS BUSQ -->
			<p:outputPanel style="background-color: white; padding: 5px;">
				<p:selectOneMenu id="soPeriodo" value="#{reporteCal.soPeriodoCal}" style="width: 130px">
					<f:selectItem itemLabel="Seleccione Período" itemValue="NA" />
					<f:selectItems value="#{reporteCal.listPeriodoCal}" />		
					<p:ajax listener="#{reporteCal.onChangePeriodoCal()}" update="soOferta"/>								
				</p:selectOneMenu>	
				<p:spacer width="10px" />
				<p:selectOneMenu id="soOferta" value="#{reporteCal.soOfertaCal}" style="width: 190px">
					<f:selectItem itemLabel="Seleccione Oferta" itemValue="NA" />
					<f:selectItems value="#{reporteCal.listOfertaCal}" />
					<p:ajax listener="#{reporteCal.onChangeOfertaCal()}" update="soEstudiante"/>
				</p:selectOneMenu>			
				<p:spacer width="10px" />
				<p:selectOneMenu id="soEstudiante" value="#{reporteCal.soEstudianteCal}" effect="fade" widgetVar="t" filter="true" filterMatchMode="contains">
					<f:selectItem itemLabel="Seleccione Estudiante" itemValue="NA" />
					<f:selectItems value="#{reporteCal.listEstudianteCal}" />	
				    <p:column>
		                <h:outputText value="#{t}" />
		            </p:column>		            
		        </p:selectOneMenu>
		        <p:spacer width="10px" />
		        <p:selectOneMenu id="soDocente" value="#{reporteCal.soDocenteCal}">
					<f:selectItem itemLabel="Seleccione Docente" itemValue="NA" />
					<f:selectItems value="#{reporteCal.listDocenteCal}" />		
					<p:ajax listener="#{reporteCal.onChangeDocenteCal()}" update="tab"/>								
				</p:selectOneMenu>
		        <p:spacer width="5px" />					
			</p:outputPanel> 
			<br />
			
			<!-- CONSULTA -->							
			<p:tabView id="tab">
				<p:tab title="Libreta de calificaciones">
					<p:outputPanel style="background-color: white; padding: 5px; display: inline-flex; margin-top: -5px;">
						<p:outputPanel style="padding: 5px">Quimestre:</p:outputPanel>
						<p:selectOneMenu id="soQuimestre" value="#{reporteCal.soQuimestre}" style="width: 40px">
				            <f:selectItem itemLabel="Q1" itemValue="1" /> 
				            <f:selectItem itemLabel="Q2" itemValue="2" />				            
				        </p:selectOneMenu>
				        <p:spacer width="10px" />	
				        <p:outputPanel style="padding: 5px">Registro:</p:outputPanel>
						<p:selectOneMenu id="soParcial" value="#{reporteCal.soParcial}" style="width: 40px">
				            <f:selectItem itemLabel="P1" itemValue="1" /> 
				            <f:selectItem itemLabel="P2" itemValue="2" />		
				            <f:selectItem itemLabel="P3" itemValue="3" />			            
				        </p:selectOneMenu>
				        
				        <p:spacer width="20px" />
				        <p:commandButton id="btnVer" value="Ver" style="font-size: 12px !important;" 
				        	actionListener="#{reporteCal.verLibretaCalifinaciones}" update="opLibreta :form:growl" />
				        
				        <p:spacer width="20px" />
				        <p:commandButton type="button" icon="fa fa-print" title="Imprimir" style="margin-right: 50px;">
						    <p:printer target="opLibreta" />
						</p:commandButton>
					</p:outputPanel>				
					
					<p:separator style="border: 0.6px solid #8f3b4f;" />
					
					<p:outputPanel id="opLibreta">
						<style type="text/css">
							.tg  { border-collapse: collapse; border-spacing: 0; }
							.tg td{ font-family: Arial, sans-serif; font-size: 11px; padding: 1px; overflow: hidden; word-break: normal; }
							.tg th{ font-family: Arial, sans-serif; font-size: 11px; font-weight: normal; padding: 2px; overflow: hidden; word-break: normal; }
							.tg .tg-c3ow{ text-align: left; }
							.tg .tg-cudy{ font-weight: bold; font-family: Arial, Helvetica, sans-serif !important; text-align: center; vertical-align: top }
							.tg .tg-0pky{ text-align: right; }
							.tg .tg-757w{ font-size: 13px; font-family: "Times New Roman", Times, serif !important; text-align: center; vertical-align: top }
							.tg .tg-mjfx{ font-weight: bold; font-family: "Times New Roman", Times, serif !important; text-align: center; vertical-align: top }
							.tg .tg-0lax{ text-align: left; vertical-align: top; font-weight: bold; }
							
							.ui-datatable th.ui-state-default, .ui-datatable tfoot td.ui-state-default { background: #ffffff; border-color: #000000; }
							.ui-datatable-tablewrapper { overflow: auto; margin-top: -3px; }
							.ui-datatable tbody td { border-color: black; }
							
							body .ui-datatable thead th { 
								background-color: #ffffff; padding: 2px;  border-color: #000000; color: #212121 !important; font-size: 10px; font-weight: bold !important; }
							body .ui-datatable .ui-datatable-footer, body .ui-datatable .ui-datatable-header {
    							text-align: center; font-weight: 700; font-size: 8px; color: #212121; background: white;  border: 1px solid black; padding: 0px; }
    							
    						div[id="form:tab:dtCom"] thead { display:none; }
							div[id="form:tab:dtEsc"] thead { display:none; }
    					</style>
						
						<div align="left" style="width: 100%">
						<table class="tg" style="table-layout: fixed; width: 500px">
							<colgroup>
								<col style="width: 150px" />
								<col style="width: 300px" />
								<col style="width: 100px" />
							</colgroup>
							<tr>
								<th class="tg-c3ow" rowspan="5">
									<img src="/sistema_ue_arv/recursos/images/MEE.png" height="70" />
								</th>
							    <th class="tg-cudy">ESCUELA DE EDUCACIÓN BÁSICA PARTICULAR</th>
							    <th class="tg-0pky" rowspan="5">
							    	<img src="/sistema_ue_arv/recursos/images/ESCUELA_ARV2.png" height="80" />
							    </th>
							</tr>
							<tr>
							  <td class="tg-757w"><span style="font-weight:bold">" DR. AQUILES RODRÍGUEZ V. "</span></td>
							</tr>
							<tr>
							  <td class="tg-cudy">LIBRETA DE CALIFICACIONES</td>
							</tr>
							<tr>
							  <td class="tg-mjfx">AÑO LECTIVO #{reporteCal.olPeriodo}</td>
							</tr>
							<tr>
							  <td class="tg-mjfx">JORNADA #{reporteCal.olJornada}</td>
							</tr>
							<tr>
							  <td class="tg-0lax" colspan="2">ESTUDIANTE:
							  <h:outputText value="#{reporteCal.olEstudiante}" style="font-weight: normal;"/>	
							  </td>
							  <td class="tg-0lax"><h:outputText value="#{reporteCal.olGrado}" /> </td>
							</tr>
							<tr>
							  <td class="tg-0lax" colspan="2">DOCENTE: 
							  	<h:outputText value="#{reporteCal.olDocente}" style="font-weight: normal;"/> 
							  </td>
							  <td class="tg-0lax">PARALELO: <h:outputText value=" “#{reporteCal.olParalelo}” " style="font-weight: normal;"/> </td>
							</tr>
						</table>
						
						<p:dataTable var="dtlibreta" emptyMessage="--" value="#{reporteCal.libretaList}"
							tableStyle="width: auto; min-width: 550px; margin-top: 5px; font-size: 10px;">												
							<p:columnGroup type="header">
					            <p:row>
					                <p:column rowspan="2" headerText="ÁREAS" width="130" />
					                <p:column colspan="7" headerText="#{reporteCal.olParcial} DEL #{reporteCal.olQuimestre}" />
					            </p:row>		         
					            <p:row>
					                <p:column headerText="TAREAS" style="padding: 0px; width: 20px; height: 72px; transform: rotate(-90deg); text-align: center; background: transparent;" />
					                <p:column headerText="ACTIVIDAD INDIVIDUAL" style="padding: 0px; width: 20px; transform: rotate(-90deg); text-align: center;  background: transparent;" />
					                <p:column headerText="ACTIVIDAD GRUPAL" style="padding: 0px; width: 20px; transform: rotate(-90deg); text-align: center;  background: transparent;" />
					                <p:column headerText="LECCIONES" style="padding: 0px; width: 20px; transform: rotate(-90deg); text-align: center;  background: transparent;" />
					                <p:column headerText="EVALUACIÓN SUMATIVA" style="padding: 0px; width: 20px; transform: rotate(-90deg); text-align: center;  background: transparent;" />
					                <p:column headerText="PROMEDIO" style="padding: 0px; width: 20px; transform: rotate(-90deg); text-align: center;  background: transparent;" />
					                <p:column headerText="ESCALA CUALITATIVA" style="padding: 0px; width: 20px; transform: rotate(-90deg); text-align: center;  background: transparent;" />
					            </p:row>				           
					        </p:columnGroup>	
					        
					        <p:column headerText="ÁREAS" style="font-weight: bold;">
						        <h:outputText value="#{dtlibreta.asignatura}" />
						    </p:column>			 						    
						    <p:column headerText="TAREA">
						    	<div style="text-align: center"><h:outputText value="#{dtlibreta.tarea}" /></div></p:column>						    	
						    <p:column headerText="AI">
						    	<div style="text-align: center"><h:outputText value="#{dtlibreta.actIndividual}" /></div></p:column>
						    <p:column headerText="AG">
						    	<div style="text-align: center"><h:outputText value="#{dtlibreta.actGrupal}" /></div></p:column>
						    <p:column headerText="LECCIÓN">
						    	<div style="text-align: center"><h:outputText value="#{dtlibreta.leccion}" /></div></p:column>
						    <p:column headerText="EVALUACIÓN">
						    	<div style="text-align: center"><h:outputText value="#{dtlibreta.evaluacion}" /></div></p:column>
						    <p:column headerText="PROMEDIO">
						    	<div style="text-align: center"><h:outputText value="#{dtlibreta.promedio}" /></div></p:column>						    
						    <p:column headerText="ESCALA" style="text-align: center">
						        <h:outputText value="#{dtlibreta.escala}" />
						    </p:column>					        
					    </p:dataTable> 	
						<br />
						<table style="table-layout: fixed; width: 550px; font-size: 10px; border-collapse: collapse;">
							<tr>
								<td style="border: 1px solid black; text-align: center; width: 134px;">COMPORTAMIENTO</td>
								<td style="border: 1px solid black; text-align: center; width: 43px;">
									<h:outputText value="#{reporteCal.olComportamiento}" style="font-weight: normal;"/>
								</td>
								  
								<td></td>
								  
								<td style="border: 1px solid black; text-align: center; width: 184px;">PROMEDIO FINAL</td>
								<td style="border: 1px solid black; text-align: center; width: 53px;">#{reporteCal.olPromedioFinal}</td>
								<td style="border: 1px solid black; text-align: center; width: 63px;">#{reporteCal.olPromedioEscala}</td>
							</tr>
						</table>
						<br />
						<div style="display: inline-flex;">
							<table style="table-layout: fixed; width: 183px; font-size: 10px; border-collapse: collapse;">
								<colgroup>
									<col style="width: 138px" />
									<col style="width: 44px" />								
									<col style="width: 58px" />
								</colgroup>
								<tr>
									<th style="border: 1px solid black; text-align: center;" colspan="2">
									ASISTENCIAS DEL ESTUDIANTE
									</th>																  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">DÍAS ASISTIDOS</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olAistencias}" style="font-weight: normal;"/>
									</td>								  
									<td></td>								  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">FALTAS JUTIFICADAS</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olFaltasJustif}" style="font-weight: normal;"/>
									</td>								  
									<td></td>								  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">FALTAS INJUTIFICADAS</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olFaltas}" style="font-weight: normal;"/>
									</td>			  
									<td></td>								  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">ATRASOS</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olAtrasos}" style="font-weight: normal;"/>
									</td>								  
									<td></td>								  							
								</tr>
							</table>
							
							<p:dataTable id="dtCom" var="dtCom" value="#{reporteCal.comportamientoList}" tableStyle="width: 310px; min-width: 310px; margin-top: 2px; font-size: 6px; padding: 0px;">
								<f:facet name="header">EVALUACIÓN DEL COMPORTAMIENTO</f:facet>
								<p:column style="width: 5px; text-align: center;"> <h:outputText value="#{dtCom.abreviatura}" /> </p:column> 
							    <p:column style="text-align: center"> <h:outputText value="#{dtCom.descripcion}" /> </p:column>				        
							</p:dataTable>
						</div>
						<br /> <br />
						<div style="display: inline-flex;">
							<table style="table-layout: fixed; width: 183px; font-size: 10px; border-collapse: collapse;">
								<colgroup>
									<col style="width: 138px" />
									<col style="width: 44px" />								
									<col style="width: 58px" />
								</colgroup>
								<tr>
									<th style="border: 1px solid black; text-align: center;" colspan="2">
									PROYECTOS ESCOLARES
									</th>																  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">EX: EXCELENTE</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olProyectos}" style="font-weight: normal; display: #{reporteCal.olProyectos eq 'EX' ? '':'none' }" />
									</td>								  
									<td></td>								  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">MB: MUY BUENO</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olProyectos}" style="font-weight: normal; display: #{reporteCal.olProyectos eq 'MB' ? '':'none' }" />
									</td>
									<td></td>								  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">B: BUENO</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olProyectos}" style="font-weight: normal; display: #{reporteCal.olProyectos eq 'B' ? '':'none' }" />
									</td>								  
									<td></td>								  							
								</tr>
								<tr>
									<td style="border: 1px solid black;">R: REGULAR</td>
									<td style="border: 1px solid black; text-align: center;">
										<h:outputText value="#{reporteCal.olProyectos}" style="font-weight: normal; display: #{reporteCal.olProyectos eq 'R' ? '':'none' }" />
									</td>					  
									<td></td>								  							
								</tr>
							</table>
							<p:dataTable id="dtEsc" var="dtEsc" value="#{reporteCal.escalaList}" tableStyle="width: 310px; min-width: 310px; margin-top: 2px; font-size: 6px; padding: 0px;">
								<f:facet name="header">CALIFICACIÓN CUALITATIVA</f:facet>
								<p:column style="width: 15px; text-align: center;"> <h:outputText value="#{dtEsc.cualitativa}" /> </p:column> 
							    <p:column style="text-align: center"> <h:outputText value="#{dtEsc.descripcion}" /> </p:column>				        
							</p:dataTable>
						</div>
						
						<table style="table-layout: fixed; width: 550px; font-size: 9px; font-weight:bold; border-collapse: collapse; margin-top: 80px;">
							<colgroup>
								<col style="width: 40px" />
								<col style="width: 15px" />
								<col style="width: 40px" />
								<col style="width: 15px" />
								<col style="width: 40px" />								
							</colgroup>									
							<tr>
								<td style="text-align: center; border-top: 1px solid black;">DRA. MARLIS SANCLEMENTE J.</td>							  							
								<td style="text-align: center;"></td>
								<td style="text-align: center; border-top: 1px solid black;">DOCENTE</td>
								<td style="text-align: center;"></td>
								<td style="text-align: center; border-top: 1px solid black;">REPRESENTANTE</td>
							</tr>
							<tr>
								<td style="text-align: center;">DIRECTORA</td>							  							
								<td style="text-align: center;"></td>
								<td style="text-align: center;"></td>
								<td style="text-align: center;"></td>
								<td style="text-align: center;">LEGAL</td>
							</tr>
							
						</table>
						</div>	
					</p:outputPanel>		           
		       	</p:tab>
		       	<p:tab title="Informe de Rendimiento Académico">
		           
		       	</p:tab>
		   </p:tabView>	       			
	   	</h:form>
	</ui:define>		
	
</ui:composition>
